---
packages:
  - package: sway
  - package: swaylock
    purpose: is a screen locker for Wayland
  - package: swayidle
    purpose: handles sway when its idle
  - package: xorg-x11-server-Xwayland
    purpose: Xwayland
  - package: xdg-desktop-portal-wlr xdg-desktop-portal
    purpose: screen sharing
  - package: wf-recorder
  - package: python3-i3ipc
  - package: SwayNotificationCenter
    purpose: Notificaton manager
    repository: erikreider/SwayNotificationCenter

  - package: jq
  - package: wofi
  - package: grim
  - package: slurp
    purpose: region-screenshot utility for Wayland
  - package: pavucontrol
  - package: brightnessctl
    purpose: laptop brightness control
  - package: wdisplays
    purpose: GUI display configurator for wlroots compositors
  - package: network-manager-applet
  - package: wl-clipboard
    purpose: clipboard utility
  - package: clipman
    purpose: clipboard utility
  # - package: vulkan-validation-layers
  #   purpose: WLR_RENDERER=vulkan sway
  - package: waybar
  - package: libappindicator
  - package: wlsunset
    purpose: Day/night gamma adjustments for Wayland compositors
  - package: blueman
  - package: playerctl
    purpose: media control
  - package: xsettingsd
    purpose: Xwayland gtk settings

  - package: polkit-gnome
    purpose: Polkit authentication that works well with fingerprint

  - package: wev
    purpose: Keybind finder

post_install:
  run:
    - sudo usermod -a -G input {current_user}
    - sudo install -Dm755 vars/files/sway/sway-ptinopedila.sh /usr/local/bin/sway-ptinopedila
    - sudo install -Dm644 vars/files/sway/sway-ptinopedila.desktop /usr/share/wayland-sessions/sway-ptinopedila.desktop
    - cd /home/{current_user}/.config/systemd/user && systemctl --user enable *
    # - sudo flatpak override --env=QT_QPA_PLATFORM="xcb" com.ulduzsoft.Birdtray
    # - dot update-index --assume-unchanged ~/.config/sway/config
    # - |
    #     Add to '/etc/pam.d/swaylock' (top) for better fingerprint scanner support
    #     auth sufficient pam_unix.so try_first_pass likeauth nullok
    #     auth sufficient pam_fprintd.so

    # EXTRAS
    # autotiling https://github.com/nwg-piotr/autotiling

remove:
  - foot
