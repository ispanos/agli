---
pre_install:
  files:
    - path: "/etc/yum.repos.d/vscode.repo"
      content: |
        [code]
        name=Visual Studio Code
        baseurl=https://packages.microsoft.com/yumrepos/vscode
        enabled=1
        gpgcheck=1
        gpgkey=https://packages.microsoft.com/keys/microsoft.asc

packages:
  - "@virtualization"
  - spice-gtk

  - package: com.anydesk.Anydesk
    manager: flatpak
  - package: org.remmina.Remmina
    purpose: RDP and VNC client
    manager: flatpak

  - package: md.obsidian.Obsidian
    purpose: A knowledge base that works on local Markdown files.
    manager: flatpak
  - package: org.zotero.Zotero
    manager: flatpak
  - package: com.calibre_ebook.calibre
    purpose: e-pub reader
    manager: flatpak

  - package: gnome-commander
    purpose: A more powerful file manager

  - package: com.obsproject.Studio
    manager: flatpak

  - package: odt2txt
  - package: pdftk-java
    purpose: Editing pdf files
  - package: qpdf
    purpose: Editing pdf files

  - package: code
    purpose: IDE

  - package: gitkraken
    manager: flatpak

  - package: cmake
  - package: dialog
  - package: fd-find
  - package: fzf
  - package: git-lfs
    purpose: Replaces large files with text pointers inside Git, while storing the file contents on a remote server.
  - package: jq
  - package: nmap
  - package: npm
  - package: ShellCheck
  - package: sqlitebrowser

  - package: python3-autopep8
  - package: python3-matplotlib
  - package: python3-numpy
  - package: python3-tqdm
  - package: python3-pandas
  - package: python3-pylint
  - package: python3-seaborn
  - package: python3-pyyaml
  - package: python3-sphinx
    purpose: Python documentation generator
  - package: python3-nbconvert
    purpose: Converting Jupyter Notebooks - requires pandoc

  - yamllint

post_install:
  run:
    - sudo usermod -a -G libvirt {current_user}
    - sudo grubby --args="iommu=pt" --update-kernel=ALL
